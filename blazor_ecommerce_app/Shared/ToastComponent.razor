@using Syncfusion.Blazor.Notifications;
@using blazor_ecommerce_app.Service.Notification;
@inject ToastService ToastService;

<SfToast @ref="Toast" CssClass="@ToastCss" Timeout=2000>
    <ToastTemplates>
        <Content>
            @((MarkupString)Options.Content)
        </Content>
    </ToastTemplates>
    <ToastPosition X="Center"></ToastPosition>
</SfToast>

@code {

    SfToast Toast;

    private bool IsToastVisible { get; set; } = false;
    private string ToastCss { get; set; } = "";
    private ToastOption Options = new ToastOption();

    protected override void OnInitialized()
    {
        ToastService.ShowToastTrigger += (ToastOption options) =>
        {
            InvokeAsync(() =>
            {
                this.Options.Content = options.Content;
                this.IsToastVisible = true;
                this.ToastCss = options.css;
                this.StateHasChanged();
                this.Toast.ShowAsync();
            });
        };
        base.OnInitialized();
    }
}  